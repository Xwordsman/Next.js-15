# ç½‘ç«™æ¡†æ¶å¼€å‘æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Next.js 14 å¤šè¯­è¨€ç½‘ç«™æ¡†æ¶  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**æœ€åæ›´æ–°**: 2025å¹´11æœˆ  

æœ¬æ–‡æ¡£æä¾›äº†åŸºäº Next.js 14 æ„å»ºçš„å¤šè¯­è¨€ç½‘ç«™æ¡†æ¶çš„å…¨é¢æ¦‚è¿°ï¼Œä½œä¸ºæœªæ¥å¼€å‘å’Œç»´æŠ¤çš„å‚è€ƒã€‚

## ğŸ—ï¸ æ¶æ„æ¦‚è¿°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 (App Router)
- **ç¼–ç¨‹è¯­è¨€**: TypeScript
- **æ ·å¼**: TailwindCSS
- **è¿è¡Œæ—¶**: React 18
- **éƒ¨ç½²**: Vercel

### é¡¹ç›®ç»“æ„
```
f:\Kaifa\Web\Next.js14/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€ï¼ˆè‹±æ–‡ï¼‰
â”‚   â”œâ”€â”€ page.tsx                 # è‹±æ–‡é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css              # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ [locale]/                # åŠ¨æ€è¯­è¨€è·¯ç”±
â”‚       â”œâ”€â”€ layout.tsx           # è¯­è¨€ç‰¹å®šå¸ƒå±€
â”‚       â””â”€â”€ page.tsx             # è¯­è¨€ç‰¹å®šé¡µé¢
â”œâ”€â”€ components/                   # å¯å¤ç”¨ç»„ä»¶
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ Header.tsx           # å¯¼èˆªå¤´éƒ¨
â”‚       â””â”€â”€ Footer.tsx           # ç½‘ç«™åº•éƒ¨
â”œâ”€â”€ locales/                     # ç¿»è¯‘ç³»ç»Ÿ
â”‚   â”œâ”€â”€ index.ts                 # ç¿»è¯‘å¯¼å‡º
â”‚   â”œâ”€â”€ en.json                  # è‹±æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ zh-CN.json               # ä¸­æ–‡ç¿»è¯‘
â”œâ”€â”€ hooks/                       # è‡ªå®šä¹‰ React Hooks
â”‚   â””â”€â”€ useTranslation.ts        # ç¿»è¯‘å·¥å…·
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”œâ”€â”€ middleware.ts                # è·¯ç”±ä¸­é—´ä»¶
â”œâ”€â”€ next.config.js               # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.js           # TailwindCSS é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â””â”€â”€ package.json                 # ä¾èµ–ç®¡ç†
```

## ğŸŒ å¤šè¯­è¨€ç³»ç»Ÿ

### è¯­è¨€æ”¯æŒ
- **ä¸»è¦è¯­è¨€**: è‹±æ–‡ (`en`) - æ ¹è·¯ç”± (`/`, `/about`)
- **æ¬¡è¦è¯­è¨€**: ç®€ä½“ä¸­æ–‡ (`zh-CN`) - å‰ç¼€è·¯ç”± (`/zh-CN`, `/zh-CN/about`)

### ç¿»è¯‘æ¶æ„
```typescript
// ç›´æ¥å¯¹è±¡è®¿é—®ï¼ˆç”Ÿäº§å°±ç»ªï¼‰
const t = translations[locale]
const title = t.pages.home.title

// ç¿»è¯‘æ–‡ä»¶ç»“æ„
{
  "meta": { "title": "...", "description": "..." },
  "common": { "home": "é¦–é¡µ", "about": "å…³äº" },
  "pages": {
    "home": {
      "title": "ä½ å¥½ä¸–ç•Œ",
      "subtitle": "æ¬¢è¿ä¿¡æ¯",
      "cta": "è¡ŒåŠ¨å·å¬"
    }
  },
  "footer": { "copyright": "...", "description": "..." }
}
```

### å…³é”®å®ç°ç»†èŠ‚
- **æœåŠ¡ç«¯å®‰å…¨**: ç›´æ¥å¯¹è±¡è®¿é—®ï¼ŒæœåŠ¡ç«¯ç»„ä»¶ä¸­ä¸ä½¿ç”¨ React Hooks
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript æ”¯æŒï¼ŒåŒ…å« `Locale` ç±»å‹å®šä¹‰
- **æ€§èƒ½ä¼˜åŒ–**: é™æ€å¯¼å…¥ï¼Œæ— è¿è¡Œæ—¶ç¿»è¯‘åŠ è½½
- **SEO ä¼˜åŒ–**: æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒåŒ…å«æ­£ç¡®çš„ meta æ ‡ç­¾

## ğŸ”§ ç»„ä»¶æ¶æ„

### å¸ƒå±€ç»„ä»¶

#### Header ç»„ä»¶ (`components/layout/Header.tsx`)
- **ç±»å‹**: å®¢æˆ·ç«¯ç»„ä»¶ (`'use client'`)
- **åŠŸèƒ½**:
  - Logo å’Œå¯¼èˆª
  - è¯­è¨€åˆ‡æ¢ä¸‹æ‹‰èœå•
  - å“åº”å¼è®¾è®¡
  - åŠ¨æ€è¯­è¨€æ„ŸçŸ¥è·¯ç”±
- **Props**: `{ locale: Locale }`

#### Footer ç»„ä»¶ (`components/layout/Footer.tsx`)
- **ç±»å‹**: å®¢æˆ·ç«¯ç»„ä»¶ (`'use client'`)
- **åŠŸèƒ½**:
  - ç‰ˆæƒä¿¡æ¯
  - è¯­è¨€é“¾æ¥
  - å…¬å¸æè¿°
  - å¤šåˆ—å¸ƒå±€
- **Props**: `{ locale: Locale }`

### é¡µé¢ç»„ä»¶

#### æ ¹å¸ƒå±€ (`app/layout.tsx`)
- **ç±»å‹**: æœåŠ¡ç«¯ç»„ä»¶
- **åŠŸèƒ½**:
  - HTML æ–‡æ¡£ç»“æ„
  - å…¨å±€ CSS å¯¼å…¥
  - Meta æ ‡ç­¾é…ç½®
  - å­—ä½“ä¼˜åŒ–

#### é¦–é¡µ (`app/page.tsx` & `app/[locale]/page.tsx`)
- **ç±»å‹**: æœåŠ¡ç«¯ç»„ä»¶
- **åŠŸèƒ½**:
  - æ¸å˜èƒŒæ™¯çš„è‹±é›„åŒºåŸŸ
  - è¡ŒåŠ¨å·å¬æŒ‰é’®
  - å…³äºæˆ‘ä»¬åŒºåŸŸ
  - å®Œæ•´ç¿»è¯‘é›†æˆ

## ğŸ›£ï¸ è·¯ç”±ç³»ç»Ÿ

### è·¯ç”±ç»“æ„
```
/                    â†’ app/page.tsx (è‹±æ–‡)
/zh-CN               â†’ app/[locale]/page.tsx (ä¸­æ–‡)
/about               â†’ app/about/page.tsx (æœªæ¥)
/zh-CN/about         â†’ app/[locale]/about/page.tsx (æœªæ¥)
```

### ä¸­é—´ä»¶é…ç½® (`middleware.ts`)
```typescript
export function middleware(request: NextRequest) {
  // ç®€å•çš„ç›´é€šå¤„ç†æ‰€æœ‰è¯·æ±‚
  return NextResponse.next()
}

export const config = {
  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)']
}
```

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

### TailwindCSS é…ç½®
- **è‡ªå®šä¹‰ç±»**: `container-custom`, `btn-primary`, `btn-secondary`
- **é…è‰²æ–¹æ¡ˆ**: è“è‰²æ¸å˜ä¸»è‰²ï¼Œç°è‰²è¾…åŠ©è‰²
- **å“åº”å¼**: ç§»åŠ¨ä¼˜å…ˆæ–¹æ³•
- **æ’ç‰ˆ**: ä¼˜åŒ–çš„å­—ä½“å¤§å°å’Œé—´è·

### è‡ªå®šä¹‰ CSS ç±»
```css
.btn-primary {
  @apply bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200;
}

.container-custom {
  @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
}
```

## ğŸš€ éƒ¨ç½²é…ç½®

### Vercel è®¾ç½®
- **æ¡†æ¶æ£€æµ‹**: è‡ªåŠ¨ Next.js è¯†åˆ«
- **æ„å»ºå‘½ä»¤**: `npm run build`
- **è¾“å‡ºç›®å½•**: `.next`
- **ç¯å¢ƒ**: Node.js 18+

### é…ç½®æ–‡ä»¶
- `vercel.json`: æ¡†æ¶è§„èŒƒ
- `next.config.js`: Next.js ä¼˜åŒ–è®¾ç½®
- `package.json`: ä¾èµ–å’Œè„šæœ¬

## ğŸ” å¼€å‘å·¥ä½œæµ

### å¿«é€Ÿå¼€å§‹
```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### æ·»åŠ æ–°è¯­è¨€
1. åœ¨ `locales/` ä¸­åˆ›å»ºæ–°çš„ JSON æ–‡ä»¶ï¼ˆå¦‚ `fr.json`ï¼‰
2. æ·»åŠ åˆ° `locales/index.ts` å¯¼å‡º
3. æ›´æ–° `Locale` ç±»å‹å®šä¹‰
4. å¦‚éœ€è¦ï¼Œæ·»åŠ åˆ°ä¸­é—´ä»¶

### æ·»åŠ æ–°é¡µé¢
1. åœ¨ `app/` ä¸­ä¸ºè‹±æ–‡åˆ›å»ºé¡µé¢
2. åœ¨ `app/[locale]/` ä¸­ä¸ºå…¶ä»–è¯­è¨€åˆ›å»ºå¯¹åº”é¡µé¢
3. æ·»åŠ ç¿»è¯‘åˆ° JSON æ–‡ä»¶
4. æ›´æ–° Header ç»„ä»¶ä¸­çš„å¯¼èˆª

## ğŸ› æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 404 é”™è¯¯
- **åŸå› **: ç¼ºå°‘ä¾èµ–æˆ–å¯¼å…¥è·¯å¾„é”™è¯¯
- **è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿è¿è¡Œ `npm install` å¹¶ä¸”æ‰€æœ‰å¯¼å…¥ä½¿ç”¨æ­£ç¡®è·¯å¾„

#### ç¿»è¯‘é”™è¯¯
- **åŸå› **: ä½¿ç”¨å‡½æ•°è°ƒç”¨è¯­æ³•è€Œä¸æ˜¯å¯¹è±¡è®¿é—®
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ `t.pages.home.title` è€Œä¸æ˜¯ `t('pages.home.title')`

#### æœåŠ¡ç«¯æ¸²æŸ“é—®é¢˜
- **åŸå› **: åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ä½¿ç”¨å®¢æˆ·ç«¯ API
- **è§£å†³æ–¹æ¡ˆ**: éœ€è¦æ—¶å°†ç»„ä»¶æ ‡è®°ä¸º `'use client'`

#### æ„å»ºå¤±è´¥
- **åŸå› **: TypeScript é”™è¯¯æˆ–ç¼ºå°‘æ–‡ä»¶
- **è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥æ‰€æœ‰å¯¼å…¥å¹¶ç¡®ä¿æ­£ç¡®çš„ç±»å‹å®šä¹‰

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–
- **æœåŠ¡ç«¯æ¸²æŸ“**: æ‰€æœ‰é¡µé¢é¢„æ¸²æŸ“
- **é™æ€ç”Ÿæˆ**: ç¿»è¯‘æ–‡ä»¶é™æ€å¯¼å…¥
- **ä»£ç åˆ†å‰²**: è‡ªåŠ¨ç»„ä»¶çº§åˆ†å‰²
- **å›¾ç‰‡ä¼˜åŒ–**: Next.js å†…ç½®ä¼˜åŒ–
- **CSS ä¼˜åŒ–**: TailwindCSS æ¸…é™¤æœªä½¿ç”¨æ ·å¼

### æ€§èƒ½æŒ‡æ ‡
- **é¦–æ¬¡å†…å®¹ç»˜åˆ¶**: < 1.5s
- **æœ€å¤§å†…å®¹ç»˜åˆ¶**: < 2.5s
- **ç´¯ç§¯å¸ƒå±€åç§»**: < 0.1
- **å¯äº¤äº’æ—¶é—´**: < 3s

## ğŸ”’ å®‰å…¨è€ƒè™‘

### å·²å®ç°çš„å®‰å…¨æªæ–½
- **XSS é˜²æŠ¤**: React å†…ç½®è½¬ä¹‰
- **CSRF é˜²æŠ¤**: Next.js å†…ç½®ä¿æŠ¤
- **å†…å®¹å®‰å…¨ç­–ç•¥**: Vercel é»˜è®¤å¤´éƒ¨
- **HTTPS**: Vercel å¼ºåˆ¶æ‰§è¡Œ

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æ¨èçš„æµ‹è¯•æ–¹æ³•
- **å•å…ƒæµ‹è¯•**: ä½¿ç”¨ Jest/React Testing Library è¿›è¡Œç»„ä»¶æµ‹è¯•
- **é›†æˆæµ‹è¯•**: é¡µé¢çº§åŠŸèƒ½æµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•**: ä½¿ç”¨ Playwright æˆ– Cypress è¿›è¡Œç”¨æˆ·æµç¨‹æµ‹è¯•
- **å¯è®¿é—®æ€§æµ‹è¯•**: axe-core é›†æˆ

## ğŸ“š æœªæ¥å¼€å‘æŒ‡å—

### æœ€ä½³å®è·µ
1. **å§‹ç»ˆä½¿ç”¨æœåŠ¡ç«¯ç»„ä»¶**ï¼Œé™¤ééœ€è¦å®¢æˆ·ç«¯äº¤äº’
2. **æœåŠ¡ç«¯ç»„ä»¶ç›´æ¥è®¿é—®ç¿»è¯‘**
3. **éµå¾ª Next.js çº¦å®šçš„ä¸€è‡´æ–‡ä»¶å‘½å**
4. **ç±»å‹å®‰å…¨ä¼˜å…ˆ** - ä¸ºæ‰€æœ‰ props å®šä¹‰æ¥å£
5. **ç§»åŠ¨ä¼˜å…ˆå“åº”å¼è®¾è®¡**

### æ‰©å±•è·¯çº¿å›¾
- [ ] æ·»åŠ æ›´å¤šé¡µé¢ï¼ˆå…³äºã€è”ç³»ã€åšå®¢ï¼‰
- [ ] å®ç°ç”¨æˆ·è®¤è¯
- [ ] æ·»åŠ  CMS é›†æˆ
- [ ] å®ç°æœç´¢åŠŸèƒ½
- [ ] æ·»åŠ åˆ†æè·Ÿè¸ª
- [ ] å®ç° PWA åŠŸèƒ½

## ğŸ“ æ”¯æŒä¸ç»´æŠ¤

### éœ€è¦ç›‘æ§çš„å…³é”®æ–‡ä»¶
- `middleware.ts` - è·¯ç”±å¤„ç†
- `locales/index.ts` - ç¿»è¯‘ç³»ç»Ÿ
- `app/layout.tsx` - å…¨å±€é…ç½®
- `next.config.js` - æ„å»ºé…ç½®

### å®šæœŸç»´æŠ¤ä»»åŠ¡
- æ¯æœˆæ›´æ–°ä¾èµ–
- ç›‘æ§ Vercel éƒ¨ç½²æ—¥å¿—
- æ£€æŸ¥ç¿»è¯‘å®Œæ•´æ€§
- æ¯å­£åº¦æ€§èƒ½å®¡è®¡

---

## ğŸ¯ æ€»ç»“

æ­¤æ¡†æ¶ä¸ºå¤šè¯­è¨€ Next.js åº”ç”¨ç¨‹åºæä¾›äº†åšå®çš„åŸºç¡€ï¼Œå…·æœ‰ï¼š
- âœ… ç”Ÿäº§å°±ç»ªçš„æ¶æ„
- âœ… å¯æ‰©å±•çš„ç¿»è¯‘ç³»ç»Ÿ
- âœ… ä¼˜åŒ–çš„æ€§èƒ½
- âœ… å¼€å‘è€…å‹å¥½çš„ç»“æ„
- âœ… å…¨é¢çš„æ–‡æ¡£

è¯¥æ¡†æ¶å·²å‡†å¤‡å¥½ç«‹å³å¼€å‘ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•ä»¥æ”¯æŒå…¶ä»–è¯­è¨€ã€é¡µé¢å’ŒåŠŸèƒ½ã€‚

**æ¡†æ¶çŠ¶æ€**: ğŸŸ¢ **ç”Ÿäº§å°±ç»ª**

## ğŸ”§ å…³é”®ä¿®å¤å†å²

### è§£å†³çš„æ ¸å¿ƒé—®é¢˜
1. **ç¿»è¯‘ç³»ç»Ÿä¿®å¤**
   - ä» `useTranslation` Hook æ”¹ä¸ºç›´æ¥å¯¹è±¡è®¿é—®
   - ä¿®å¤è¯­æ³•ï¼š`t.pages.home.title` è€Œä¸æ˜¯ `t('pages.home.title')`
   - ç¡®ä¿æœåŠ¡ç«¯ç»„ä»¶å…¼å®¹æ€§

2. **ç»„ä»¶æ¶æ„ä¼˜åŒ–**
   - Header/Footer æ­£ç¡®æ ‡è®°ä¸ºå®¢æˆ·ç«¯ç»„ä»¶
   - é¡µé¢ç»„ä»¶ä¿æŒä¸ºæœåŠ¡ç«¯ç»„ä»¶
   - é¿å…æœåŠ¡ç«¯æ¸²æŸ“é”™è¯¯

3. **è·¯ç”±ç³»ç»Ÿç®€åŒ–**
   - ä¸­é—´ä»¶ç®€åŒ–ä¸ºç›´é€šå¤„ç†
   - ç¡®ä¿æ‰€æœ‰è·¯ç”±æ­£å¸¸å·¥ä½œ
   - æ”¯æŒå¤šè¯­è¨€è·¯å¾„

4. **éƒ¨ç½²é…ç½®ä¼˜åŒ–**
   - Vercel é…ç½®ä¼˜åŒ–
   - ç¡®ä¿æ„å»ºæˆåŠŸ
   - ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œ

### æŠ€æœ¯å€ºåŠ¡æ¸…ç†
- ç§»é™¤äº†æœ‰é—®é¢˜çš„ Hook å®ç°
- ç»Ÿä¸€äº†ç¿»è¯‘è®¿é—®æ¨¡å¼
- ä¼˜åŒ–äº†ç»„ä»¶å¯¼å…¥ç»“æ„
- ç¡®ä¿äº†ç±»å‹å®‰å…¨

è¿™äº›ä¿®å¤ç¡®ä¿äº†æ¡†æ¶çš„ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸ºåç»­å¼€å‘å¥ å®šäº†åšå®åŸºç¡€ã€‚
